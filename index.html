<!DOCTYPE html>
<html>
<head>
  <title>Margenes</title>
  <script>
    window.addEventListener('DOMContentLoaded', (event) => {
      // Obtener los elementos de entrada
      const precioVentaInput = document.getElementById('precio-venta');
      const utilidadInput = document.getElementById('utilidad');
      const margenUtilidadInput = document.getElementById('margen-utilidad');
      const margenAjustadoInput = document.getElementById('margen-ajustado');
      const equivalenciaInput = document.getElementById('equivalencia');
      const precioVentaAjustadoInput = document.getElementById('precio-venta-ajustado');

      // Escuchar el evento de cambio en los campos de entrada
      precioVentaInput.addEventListener('input', calcularMargenes);
      utilidadInput.addEventListener('input', calcularMargenes);
      margenAjustadoInput.addEventListener('input', calcularMargenes);

      function calcularMargenes() {
        const precioVenta = parseFloat(precioVentaInput.value.replace(',', ''));
        const utilidad = parseFloat(utilidadInput.value.replace(',', ''));
        const margenUtilidad = (utilidad / precioVenta) * 100;
        margenUtilidadInput.value = margenUtilidad.toFixed(2);
        const margenAjustado = parseFloat(margenAjustadoInput.value.replace(',', ''));
        const equivalencia = 1 - (((precioVenta - utilidad) / (1 - (margenAjustado/100))) / precioVenta);
        equivalenciaInput.value = (equivalencia * 100).toFixed(2);
        const precioVentaAjustado = (precioVenta * (1 - (margenUtilidad/100))) / (1 - (margenAjustado/100));
        precioVentaAjustadoInput.value = precioVentaAjustado.toFixed(2);
      }
    });
  </script>
  <style>
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <h1>MÃ¡rgenes y Equivalencias</h1>
  <label for="precio-venta">Precio Venta:</label>
  <input type="text" id="precio-venta" placeholder="Ingrese el precio de venta (ej. 100,000)">
  <br><br>
  <label for="utilidad">Utilidad:</label>
  <input type="text" id="utilidad" placeholder="Ingrese la utilidad (ej. 20,000)">
  <br><br>
  <label for="margen-utilidad">Margen de utilidad (%):</label>
  <input type="text" id="margen-utilidad" readonly>
  <br><br>
  <label for="margen-ajustado">Margen Ajustado (%):</label>
  <input type="text" id="margen-ajustado" placeholder="Ingrese el margen ajustado (ej. 10)">
  <br><br>
  <label for="equivalencia">Equivalencia (%):</label>
  <input type="text" id="equivalencia" readonly>
  <br><br>
  <label for="precio-venta-ajustado">Precio Venta Ajustado:</label>
  <input type="text" id="precio-venta-ajustado" readonly>
</body>
</html>
